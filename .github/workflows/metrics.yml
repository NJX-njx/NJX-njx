name: GitHub Metrics

on:
  # æ¯å¤© UTC 23:00ï¼ˆåŒ—äº¬æ—¶é—´æ¬¡æ—¥ 07:00ï¼‰è‡ªåŠ¨æ›´æ–°
  schedule:
    - cron: "0 23 * * *"
  # æ‰‹åŠ¨è§¦å‘
  workflow_dispatch:
  # push åˆ° main/master æ—¶è§¦å‘
  push:
    branches: ["main", "master"]

permissions:
  contents: write

jobs:
  github-metrics:
    runs-on: ubuntu-latest
    steps:
      - uses: lowlighter/metrics@latest
        with:
          # ====== åŸºç¡€é…ç½® ======
          token: ${{ secrets.METRICS_TOKEN }}
          user: NJX-njx
          template: classic
          base: header, activity, repositories, metadata
          config_timezone: Asia/Shanghai
          repositories_skipped: NJX-njx
          config_order: base.header, isocalendar, languages, habits, stars, base.activity, base.repositories

          # SVG ä¼˜åŒ–
          optimize: svg
          experimental_features: --optimize-svg

          # ====== ğŸ“… ç­‰è·æäº¤æ—¥å† ======
          plugin_isocalendar: yes
          plugin_isocalendar_duration: half-year

          # ====== ğŸˆ·ï¸ ç¼–ç¨‹è¯­è¨€åˆ†å¸ƒ ======
          plugin_languages: yes
          plugin_languages_ignored: html, css, scss, less
          plugin_languages_limit: 8
          plugin_languages_sections: most-used
          plugin_languages_indepth: no

          # ====== ğŸ’¡ ç¼–ç ä¹ æƒ¯ ======
          plugin_habits: yes
          plugin_habits_charts_type: classic
          plugin_habits_days: 14
          plugin_habits_facts: yes
          plugin_habits_from: 200
          plugin_habits_languages_limit: 8
          plugin_habits_languages_threshold: 0%

          # ====== âœ¨ Stargazers ======
          plugin_stargazers: yes
          plugin_stargazers_charts_type: chartist

          # ====== ğŸ‘¨â€ğŸ’» ä»£ç è¡Œæ•°å˜åŒ– ======
          plugin_lines: yes
          plugin_lines_sections: base

          # è¾“å‡ºæ–‡ä»¶å
          filename: github-metrics.svg
